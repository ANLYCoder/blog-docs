计算素数的一个方法是埃氏筛法，它的算法理解起来非常简单：

(1).首先，列出从2开始的所有自然数，构造一个序列：

```
2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...
```

(2).取序列的第一个数2，它一定是素数，然后用2把序列的2的倍数筛掉：

```
3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...
```

(3).取新序列的第一个数3，它一定是素数，然后用3把序列的3的倍数筛掉：

```
5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...
```

(4).取新序列的第一个数5，然后用5把序列的5的倍数筛掉：

```
7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...
```

不断筛下去，就可以得到所有的素数。

```
#include<stdio.h>
#include<math.h>
#include<iostream>
using namespace std;
#define N 10000001
bool prime[N];
int main()
{
 
     prime[2]=true;
     for(long i=3;i<N;i++)
     {
          if(i%2==0)
          {
               prime[i]=false;
          }
          else
          {
               prime[i]=true;
          }
     }
     for(long i=3;i<sqrt(N);i++)
     {
          if(prime[i])
          {
               for(long j=2;j*i<N;j++)
               {
                    prime[j*i]=false;
               }
          }
     }
     return 0;
}
```



那就是最外层循环可以只遍历到根号n就行了。因为大于根号n的数要么是素数，要么就有一个小于根号n的因数（而这是不可能发生的，因为如果它有小于根号n的因数的话，那他就已经被筛掉了）